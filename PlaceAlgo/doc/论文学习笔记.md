拓扑排序	[知乎🔗](https://zhuanlan.zhihu.com/p/260112913)

![12.12](\Picture\image-20211212225903839.png)

【20】Find all the elementary circuit of a directed graph     ----paper title  

寻找有向图的所有的基本环

![image-20211113110655425](\Picture\image-20211113110655425-1636772845097-1637021527452.png)

F是G的导出子图，如果W是V的子集，且F的边的顶点属于W。导出子图F是最大强连通的，如果W中任意两个点在F中有path，且不存在更大的包含F的子图满足该特性。

![image-20211122100235789](\Picture\image-20211122100235789-1637546562621.png)

---算法核心---

给顶点赋值1，2，，，n

​	一个数组描述图的连接关系

​	一维数组P 初等路径的顶点（an elementary path）

​	二维数组H 空数组

elementary path的构建是EC算法的基本过程，第一步，从第一个顶点开始，一次一条路径，三个条件

  		1. 路径的末端点不能再P中		
  	           形成elementary path
  		2. 路径的末端点序号必须比P中第一个元素的要大          
  	           保证每个circuit只被考虑一次    对特定路径的搜索只会发生在最小整数在路径的开始处
  		3. 路径的末端点不能到达该路径的起点，数组H存储每个顶点能到达的顶点
  	            保证elementary path不会被考虑多次

已有算法分析：

​	Tiernan（1970） and Weinblatt（1972）

​	Tarjan  时间复杂度 ne  nec(worst case)  c为环的个数  --1972

Tiernan



Enumeration of the elementary circuits of a directed graph---Tarjan---

时间复杂度（V+E）（C+1）





---A Parallel Algorithm for Finding All Elementary Circuits of a Directed Graph

图是一个重要的模型，我们可以在交通、导航、物流，管理，社交网络等各个领域找到这种模式，在这样的图中，电路通常被认为是信息传播的闭环方式。

图论首先作为数学的一个分支进入人们的视野，并成为许多研究者的一个极好的工具。

算法基本思想：从一个结点出发深度搜索，找到包含该结点的所有基本电路，然后删除该结点。

Johnson的算法时间复杂度目前仍然是最低的	(n+e)(C+1)





A Efficient search algorithm to find the elementary circuits of a pragh--Tiernan

QVector<QList>  存放顶点一步所能到达的顶点序号





![image-20211123084112132](\Picture\image-20211123084112132.png)



计算电路模型的所有反馈环等价于求该模型对应的简单有向图的所有基本回路，

【1】Finding All Bounded-Length Simple Cycles in a Directed Graph--Gupta A

--比【20】Find all the elementary circuit of a directed graph --论文计算所有elementary circuit更快

【27】逻辑图自动绘制算法

目前有两种类型的布线算法，迷宫游走和线探索法，但是这两种算法广泛应用于集成电路和PCB板电路的布线，不适用于逻辑图的布线。

布局时间复杂度为O(PN<sup>4</sup>) 其中P=列数 N=所有列元器件最大数

布局，，优化交叉个数，总线长  重心布局算法的改进  垂直通道概念的引进   布线算法时间复杂度为O(n^2) 

【28】逻辑图生成程序LODGEN---说的很模糊
电路输出逐级驱动，--布局

思想：从输出端开始，往输入端驱动，

待解决的问题（疑惑）：每次驱动的时候 选几个元件呢  根据什么原理（规则）确定选中元件的一个上下关系呢	

idea	简单估算列的个数

基本思想 

1. 二分法 选择1，2，4，8，16，等列数

2. 计算每列元素相互之间连线个数之和，将其相加作为划分权重

3. 选择划分权重最小的列数row，在Row附近微调列数得到最终布局的列数Row

4. 在利用聚类算法划分为Row列，最终得到每列所包含的元器件

![layout](\Picture\image-20211211141228913.png)

上图根据自动布局算法得到的布局效果其实不是很好，经过手动调整之后会发现线与线之间的交叉点减少了许多。布局做的不咋地（Ease软件），布线也哈哈哈哈，不予置评。

关于反馈环的一些思考：

1. 反馈环就是有向图中的一个回路
2. 在行列定位法的列定位中，需要根据信息（元件之间连接关系，端口个数等信息）计算元件的权重或优先级，然后再确定元件列所在的位置
3. 能不能找到一个替代的方法来计算权重/优先级，从而避免反馈环的识别（时间复杂度O((V+E)C)，C为基本回路的个数）
4. 反馈环的替代方案：根据输出或者输出度数赋予一个初始的权重，然后根据元件之间的连接关系进行一个度数的更新，最后得到每个元件的列权重
5. Finding all elementary circuits中使用了求强连通图的算法--  [strongly connected components](https://github.com/mikolalysenko/strongly-connected-components)        [elementary circuits](https://github.com/antoinerg/elementary-circuits-directed-graph) 

线探索法，--布线

【30】电路图的自动生成技术

提出了排队技术和布局优化技术，

布局的基本思想：

1. 对逻辑单元进行排队处理，生成一个初始布局，
2. 对初始布局进行优化，使得占用面积最少----可以参考

逻辑图的拓扑图化---引入图模型

生成逻辑图的特点

1. 生成电路逻辑图中元件位置与版图无关
2. 逻辑图的信号流遵循从左到右的习惯
3. 生成电路逻辑图相关元件相邻排列
4. 逻辑图中标准逻辑单元采用标准符号

[31]逻辑图自动布局--崔晓天

时间复杂度O(NlogN<sub>1</sub>)，N是电路规模，N<sub>1</sub>是扇出源个数

缺点：不是针对杂乱无序的一列元件来调整

Control_Pld_Bus2---

![layout--manual](\Picture\image-20211212190824996.png)

![auto-layout](\Picture\image-20211212190952497.png)

走线的分类--和【34】高级综合中的逻辑图类似

线探索主要用于解决第三类元器件间端口的连接



![image-20211129114143519](\Picture\image-20211129114143519.png)


【33】整机性逻辑图自动生成中某些问题的解决方法--左京燕 1994

逻辑图自动生成系统是VHDL语言高级逻辑综合系统中的一个子系统

![image-20211128165825249](\Picture\image-20211128165825249.png)

【34】高级综合中的逻辑图自动生成--左京燕



思考：有些Y定级是确定最后一列然后依次确定前列的元件摆放顺序

​		选一列最多的？？

【35】高层次综合的实用化逻辑图自动生成关键技术的研究

电路的划分问题就相应地转化为图论中图的最优K划分问题

行定位算法需要注重元件之间的连接关系，有直线连接关系的放在临近位置，

思考：同一列元件之间有连接关系的放在临近位置



【36】一种逻辑电路图的布局算法--杨力列

主要方法：行列定位法，

主要贡献：选择适当的目标函数，调整各列中元件的排列次序问题，时间复杂度在一般情况下远小于O(p*n^2) p为元件列数 n为所有列中最大元器件数

主要讨论


【44】Placement and routing for logic schematics--Michael May   

布线 动态规划  Bellman最优性定理---减少交叉点

【45】基于力导向模型的网络图自动布局算法综述

基于力导向模型的自动布局算法是该类研究中应用最广，文献最多的一类方法，根据研究方向出现的时间顺序，从基本模型，基于多维尺度分析的布局算法，多层迭代布局算法，非欧空间结点布局算法，受约束图形自动布局算法等五个方向。

力导向模型解决布局问题的基本思想是：把图形假想成一个物理系统，系统中组件的有向线段，可以被看成其他结点对该结点的拉力和排斥力，所有结点在相互作用下运动，当系统达到力平衡而静止，此时得到的布局就是最佳布局，该思想由Tutte【】在1963年首次提出，但是没有建立相关模型。1979年Quinn在IEEE Transactions为了解决电路板电子元件和线路布局的问题，首次剔除在相连结点之间构建虚拟弹簧，根据Hook定律确定节点的受力情况，进而确定每个点的相对位置，但是他只计算了节点之间的引力，导致结点大量重叠覆盖。EadesP提出了力导向模型研究的第一个里程碑式研究成果，Eades模型。随后在此基础上，KK模型，FR模型标志着力导向模型研究的开始。第二个阶段是，力导向模型的理论研究，对KK模型的数学形式进行了推导和改进，提出了基于多维尺度分析的布局算法。第三阶段，随着大规模复杂网络研究的兴起，如何用力导向模型进行大规模结点绘制和特殊图形绘制成了研究重点，其间学者们相继提出多层迭代、非欧空间图，受约束图等不同研究方向。

、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、

Eades P率先剔除网络图自动绘制的三大原则--美学原则

1. 交叉边最小原则
2. 边尽量为直线
3. 绘制区域最小原则
   

---ppt

Partition 

KL算法  针对图的一个划分		 [Link](http://gyxie.github.io/2015/09/17/Kernighan-Lin-Algorithm/)

<img src="\Picture\image-20211208110723938.png" alt="image-20211208110723938" style="zoom:66%;" />

FloorPlan

The floorplanning problem is to plan the *positions* and *shapes* of the modules at the beginning of the design cycle to optimize the circuit performance：

1. chip area
2. total wirelength
3. delay of critical path
4. routability
5. others, e.g., noise, heat dissipation, etc.

<img src="\Picture\image-20211208113326911.png" alt="image-20211208113326911" style="zoom:66%;" />

Placement

力导向	[Wiki-Link](https://zh.wikipedia.org/wiki/%E5%8A%9B%E5%AF%BC%E5%90%91%E5%9B%BE)

两种主流方法

1. 解方程
2. 迭代求解（不一定最优）

54/63   ppt进度

Hierarchical Design 分层设计

集成电路EDA产业研究  [Link](https://zhuanlan.zhihu.com/p/408303038)





电子自动化--wiki 	[Link](https://aijishu.com/a/1060000000207331)

​							   [Link](https://zh.wikipedia.org/wiki/%E9%9B%BB%E5%AD%90%E8%A8%AD%E8%A8%88%E8%87%AA%E5%8B%95%E5%8C%96)

集成电路是科学技术的结晶，也是现代信息社会的基石，当前前沿的几个研究热点，如人工智能，无线通信，虚拟现实，物联网以及智能制造，无不是依赖高性能的芯片来实现的，因此，芯片的设计与制造能力是衡量一个国家技术实力的重要指标，芯片设计软件（EDA）是芯片设计中的核心技术，它用于实现超大规模集成电路芯片的功能设计，综合，验证，物理设计（包括布局、布线、版图、设计规则检查等）等流程。

[Link](https://www.sohu.com/a/473473493_115565)

去年我国EDA市场规模在全球的占比约为14%，且主要由外资主导。有数据显示，去年我国自主EDA工具企业在本土市场营业收入约为7.6亿元，同比增幅高达65%，但在国内市场中的比重不到12%。这种格局的背后也是我国EDA行业起步较晚且发展较为曲折的历史反映。上世纪70至80年代，由于外国禁运管制，中国无法购买到国外的EDA工具，便开始进行自主研发与攻关，并研发成功了中国历史上第一款具有自主知识产权的 EDA 工具“熊猫 ICCAD系统”，填补了我国在这一领域的空白。然而，在此之后国外解除了对我国EDA工具的封锁，国外EDA工具大量进入中国，缺少政策和市场支持的国内EDA工具研发和应用陷入低谷，也导致了国内集成电路产业对国外EDA工具的重度依赖。但EDA作为典型的技术驱动型产业，无论是在技术能力，还是在人才规模上，我国企业都还有待追赶。目前，位于全球第一梯队的新思科技（即Synopsy，总部位于美国）、楷登电子（即Cadence，总部位于美国）和西门子EDA占据了全球近80%的市场。不过，随着集成电路进入后摩尔时代，由摩尔定律驱动的芯片集成度和复杂度持续提升将为 EDA 工具发展带来新需求。

**国产替代**

众所周知，芯片制造的过程主要分为以下三个步骤：设计、光刻和封装。虽然国内的芯片设计水平已提高很多，但许多人忽略了一个重要问题：这些芯片设计是基于国外的芯片设计软件——EDA来完成的。



自芯片“国产替代”成为热门话题，集成电路行业自上至下愈发强调自主可控，其中的EDA作为芯片设计的上游与产业的重要基础，自然成为国家、资本和业界关注的重点。全球最为知名、占据市场大头的三家EDA企业都在美国。不断拉长的实体清单亦为国内集成电路产业全方位自主可控能力敲响了警钟：EDA已经是中国集成电路行业发展的阿喀琉斯之踵。国家和地方政策对于EDA国产化的支持力度正在加大，

在EDA出现之前，设计人员必须手工完成集成电路的设计、布局、布线等工作，这是因为当时的集成电路的复杂度和规模远远不及现在，



传统上，逻辑图的绘制都是手工完成的，用手工绘制逻辑图需要花费大量的时间和精力，并且容易出错，因此逻辑图的自动生成就显得非常必要了，







姓名：黄非凡

学号：202111043

论文题目：逻辑图布局的实现与优化



# 1.选题的意义与研究价值

​		集成电路（或称芯片）是科学技术的结晶，也是现代信息社会的基石，目前前沿的几个研究热点：人工智能、无线通信、虚拟现实、物联网以及智能制造，无不是依赖高性能的芯片来实现的。自芯片“国产替代”成为热门话题，集成电路行业从上至下愈发强调自主可控。芯片制造过程主要分为三个步骤：设计，光刻和封装，虽然国内的设计水平达到了国际水平，但是这些芯片大多都是基于国外的EDA软件来完成的，所以电子设计自动化（Electronic design automation，EDA）作为芯片设计的上游与产业的重要基础，自然成为国家、资本和业界关注的重点。

​		然而全球最为知名、占据市场绝大部分份额的三家EDA企业都在美国，不断拉长的实体清单为国内集成电路产业全方位自主可控敲响了警钟，EDA产业已是中国集成电路行业发展的阿喀琉斯之踵，EDA作为典型的技术驱动型产业，无论是在技术能力，还是在人才规模上，我国企业都还有待追赶，不过随着集成电路进入后摩尔时代，由摩尔定律驱动的芯片集成度和复杂度持续提升将为EDA工具发展带来新需求。

​		EDA是指利用计算机辅助设计软件来完成超大规模集成电路（VLSI）芯片的功能设计、综合、验证、物理设计（包括布局、布线、版图、设计规则检查）等流程的设计方式。芯片的研发流程一般分为三个阶段：1.确定需求，规格定义到详细设计，也就是需要实现什么功能和怎么实现这些功能；2.前端，芯片设计，芯片验证，芯片综合；3.后端，可测试性设计，**布局布线**，版图设计到GDS。

![gif](E:\算法\学习笔记\Picture\bVbdTW.gif)

​		随着集成电路的设计规模的急剧增加，越来越多的功能被集成到单个芯片中，电子系统设计从SOB（system-on-board）、MCM(mutlichip-modules)、SCO(system-on-chip)、SIP(system-in-package)方向发展。SIP设计概念的出现，给集成电路带来了许多新问题，这就对EDA软件提出了更高的要求，而布局布线是芯片设计中的重要一环。

​		逻辑图布局就是确定电路上所有的元件在一个（平面）版图合理地摆放，使得布局结果满足目标要求，常见的评价标准有<sup>31</sup>（1）正确性，（2）规范性，（3）易读性，（4）美观性，（5）有效利用作图空间。理论上来说最优解的计算是一个NP完全问题，在实际应用场景中需要一个复杂度较低的算法来快速地计算出一个良好的布局结果，而一个好的布局算法能显著提高芯片的竞争力，布局的快速计算可以有效地缩短芯片的研发周期。

​		很显然，随着集成电路的复杂性越来越高，在版图验证的过程中以人工方式绘制电路的逻辑图是一个不现实的事情，，，

​		自20世纪80年代以来，很多学者对逻辑图的布局算法进行了很多探索与尝试<sup>35</sup>，Kumar和Brady解决了逻辑图自动生成系统中一般性的问题；Tou使用结构群来解决布局问题，Chun使用聚类的方法来增加逻辑图的美观性问题，，，，，，水超<sup>45</sup>     Eades P首次提出图形自动绘制的三大原则，根据这些法则绘制的图形能帮助人们更好地理解图形，Tutte在1963年首次提出力导向模型的思想，1979年Quinn使用Hook定律用来实现布局问题，1984年Eades P建立了Eades模型，后来学者在此基础上相继提出KK模型，FR模型等模型。崔晓天使用启发式信息和PO锥来进行布局<sup>31</sup>，杨力列提出一种启发式算法来实现自动布局。

​		目前布局算法的研究主要有三种：1.行列定位法，2.力导向法，3.随机算法（例如模拟退火法）。行列定位法，力导向模型有算法简单，稳定性高，通用性强等优点，但是时间复杂度达到了O(V<sup>2</sup>)。

​		总体来说，目前研究逻辑图的自动生成存在的普遍问题在于评价标注是比较主观的，

并且逻辑图布局直接影响图的质量，布局和布线的过程直接影响芯片的成败，





​	





​	

​	在EDA软件出现之前，

国家和地方政策对于EDA国产化的支持力度正在加大。



因此芯片的设计与制造能力是衡量一个国家科学技术水平的重要指标，

1000字

集成电路设计--wiki



# 2.国内外研究现状和发展动态

1024字

# 3.主要研究思路、研究内容和学术方面的创新点

## 3.1主要研究思路和研究内容

200字

（1）

（2）

（3）

## 3.2学术方面的创新

200字

# 4.拟采取的研究方法和技术路线

300字

# 5.进度安排和预期成果

500字

# 6.已有基础

400字

# 7.主要参考文献

[35篇]



重要参考文献

[27-32,35,36]--布局

[4,21,22,27,31,35,36]







# 附录--A--芯片学习

[Link](https://www.youtube.com/watch?v=kYUhk6FQwBc)

![image-20211127183759811](\Picture\image-20211127183759811.png)

![image-20211127183848937](\Picture\image-20211127183848937.png)

![image-20211127183928976](\Picture\image-20211127183928976.png)

![image-20211127183720087](\Picture\image-20211127183720087-16380094465581.png)

















扇出定义	[百科Link](https://baike.sogou.com/v73903617.htm)

![fan-out](\Picture\image-20211209090504741.png)







Single Boundary问题

问题描述：

​		边界是用来描述几何图形的一种常用方法，边界可以用顶点集来描述，顶点集中有一系列点，其中顶点集中任意两个相邻点可以唯一确定一条直线段，这些直线段围成一个闭合轮廓，闭合轮廓所确定的几何图形叫做区域。

​		下图的边界对应的顶点集有五个元素，这个五个点确定了一个方形轮廓，方形轮廓唯一地确定了一个边长为100000的正方形区域。

![boundary](\Picture\image-20211213132158692.png)
<center>图 1 边界</center>

![region](\Picture\image-20211213132220835.png)
<center>图 2 区域</center>

​		边界确定的闭合轮廓有可能出现自交，自交就是闭合轮廓的直线段间有起始点以外的交点，见下图，边界用顶点集来表示就是{V<sub>1</sub>V<sub>2</sub>V<sub>3</sub>V<sub>4</sub>V<sub>5</sub>V<sub>6</sub>V<sub>7</sub>V<sub>8</sub>V<sub>1</sub>}，闭合轮廓的直线段V<sub>8</sub>V<sub>1</sub>和V<sub>3</sub>V<sub>4</sub>只相交于非顶点集的点。

![self-crossing](\Picture\image-20211213133357897.png)
<center>图 3 边界自交</center>

​		边界确定的闭合轮廓有可能出现重合，重合就是闭合轮廓中有多个直线段描述的是一个直线段（两点唯一确定一条直线段）。下图上面一排表示边界，下面一排表示与之对应的区域。图(a)的边界不存在自交和重合，随着图(b)的上图中两个箭头指向的直线段的慢慢靠近，最终这两条直线段的距离为0，也就是图(d)的上图，这种情况是重合不是自交。通过使用重合，图(d)上图对应的边界表示了下图的区域，实现了挖空的效果，白色部分被称作孔（hole），黑色部分表示边界对应区域。

![self-crossing&touching](E:\huangfeifan-Sort\PlaceAlgo\doc\Picture\image-20211213135902648.png)
<center>图 4 </center>

​		图5左图描述的是用一个边界描述区域内有多个孔。

![multi-hole](\Picture\image-20211213141123162.png)
<center>图 5</center>

输入：边界，所有孔，边界和孔都是多边形，用顶点集来描述，所有的孔都在边界内部，如图5右图所示。

输出：返回一个新边界，如图5左图，返回的边界不允许出现自交。









